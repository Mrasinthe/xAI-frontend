{% extends "base.html" %} {% block title %}XAI{% endblock %} {% block content
%}




<section class="vh-80">
  <!-- <div class="container h-100" > -->
    <div class="row justify-content-center " >
      <div class="col-lg-12 col-xl-11" >
        <div class="card text-white p-md-5" style="background-color:   #787A91; border-radius: 25px">
          <div class="card-body p-md-5">
            <div class="row justify-content-center">
              <div class="col-md-10 col-lg-6 col-xl-5 order-2 order-lg-1" >
                  <form action="/explain" method="post" enctype="multipart/form-data" onsubmit="showLoader()" style="color: white; font-family: 'Bahnschrift Light Condensed', sans-serif ;text-transform: uppercase;">
                      <h3 align="center" >XAI MICROSERVICES INTERFACE</h3></br>
                      <h4 style="color: black;">ROLE : {{user_role}}</h4>
                      <div class="form-group">
                        <label for="mlModel" style="color: black;">Model:</label>
                        <input type="file" id="mlModel" name="mlModel" required />
                      </div>
                      <div class="form-group">
                        <label for="ImageFile" style="color: black;"> Image File:</label>
                        <input type="file" id="ImageFile" name="ImageFile" accept=".jpg,.jpeg,.png" required />
                      </div>
                      <div class="form-group">
                        <label for="ClassLabel" style="color: black;"> Class Label:</label>
                        <select id="ClassLabel" name="ClassLabel" required class="form-control">
                          <option value="cardboard">Cardboard</option>
                          <option value="glass">Glass</option>
                          <option value="metal">Metal</option>
                          <option value="paper">Paper</option>
                          <option value="plastic">Plastic</option>
                          <option value="trash">Trash</option>
                        </select>
                      </div>
                      <div class="text-center">
                      <button type="submit" class="btn btn-primary" id="explainButton" style="background-color:  #007399; font-family: 'Bahnschrift Light Condensed', sans-serif ;text-transform: uppercase; ">Explain</button>
                    </div><br /><br />
                      <div id="LoadingExplanations"></div>
                    </form>
              </div>
             
            </div>
          </div>
        </div>
      </div>
    <!-- </div> -->
  </div>
</section>
<script>
  const LoadingExplanations = document.getElementById('LoadingExplanations');
  const explainButton = document.getElementById('explainButton');

  // Function to show the loader
  function showLoader() {
    // Display the loading spinner
    LoadingExplanations.innerHTML = '<div class="loader"></div>';

    // Add a delay to simulate server response time (remove this line in your actual implementation)
    setTimeout(() => {
      LoadingExplanations.innerHTML = ''; // Remove the loader after the form is submitted
    }, 300000); // Replace 3000 with the actual server response time in milliseconds
  }
</script>

{% endblock %}